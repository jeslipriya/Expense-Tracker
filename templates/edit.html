{% extends "base.html" %}

{% block content %}
<h1>Edit Expense</h1>
<form method="POST">
    <label>Description:</label>
    <input type="text" name="description" value="{{ expense[4] }}" required>
    <label>Amount:</label>
    <input type="number" name="amount" step="0.01" value="{{ expense[3] }}" required>
    <label>Category:</label>
    <select name="category" required>
        <option value="Food" {% if expense[2] == 'Food' %}selected{% endif %}>Food</option>
        <option value="Transport" {% if expense[2] == 'Transport' %}selected{% endif %}>Transport</option>
        <option value="Others" {% if expense[2] == 'Others' %}selected{% endif %}>Others</option>
    </select>
    <div id="custom-category-container" style="display: none;">
        <label>Custom Category:</label>
        <input type="text" name="custom_category" placeholder="Enter custom category">
    </div>
    <button type="submit">Update Expense</button>
</form>
<script>
    // Show custom category input if "Others" is selected
    const categorySelect = document.querySelector('select[name="category"]');
    const customCategoryContainer = document.getElementById('custom-category-container');
    if (categorySelect.value === 'Others') {
        customCategoryContainer.style.display = 'block';
    }
</script>
{% endblock %}